import express from "express";
import {
  getCapsters,
  getCapsterById,
  getCapsterByStore,
  createCapster,
  updateCapster,
  deleteCapster,
} from "../controllers/capster.controller.js";
import { verifyToken } from "../middlewares/auth.middleware.js";
import { isAdmin } from "../middlewares/role.middleware.js";

const router = express.Router();

// ğŸŸ¢ Semua capster (admin)
router.get("/", verifyToken, getCapsters);

// ğŸ”µ Capster per store (kasir)
router.get("/store/:id_store", verifyToken, getCapsterByStore);

// ğŸ”µ Capster by ID
router.get("/:id", verifyToken, getCapsterById);

// ğŸŸ¡ Tambah capster (admin)
router.post("/", verifyToken, isAdmin, createCapster);

// ğŸŸ  Update capster (admin)
router.put("/:id", verifyToken, isAdmin, updateCapster);

// ğŸ”´ Hapus capster (admin)
router.delete("/:id", verifyToken, isAdmin, deleteCapster);

export default router;
